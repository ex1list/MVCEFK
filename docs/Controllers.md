
# Контроллеры. SimpleMVC


Как уже было [сказано ранее](Start.md), SMCV реализует концепцию MVC.

Что это означает на практике? Обычно то, что запрос пользователя (каким бы он ни был) _всегда_ обрабатывается действием какого-то контроллера -- т.е. вызывается код, написанный в контроллере и уже код этого контроллера "решает", что делать дальше.

 При этом, опять же, на практике в SMVC справедливы следующие утверждения:
 * **Контроллер** - это класс, унаследованный от родительского класса контроллера  `\ItForFree\SimpleMVC\mvc\Controller` из Ядра _(см. [раздел о разделении универсальной и частной логики в SMVC](docs/Start.md))_.
 * **Действие контроллера** (action, "экшн") -- метод класса контроллера, отвечающий за какую-то конкретную задачу. Например, за получение списка статей (из СУБД или как-то ещё), или за вывод формы редактирования пользователя и обработку запроса, приходящего в результате отправки этой формы пользователем.
## Пример контроллера

В качестве примера возьмем класс [контроллера домашней страницы](https://github.com/it-for-free/SimpleMVC-example/blob/master/application/controllers/HomepageController.php#L1) `HomepageController`:

```php
<?php

namespace application\controllers;

/**
 * Контроллер для домашней страницы
 */
class HomepageController extends \ItForFree\SimpleMVC\mvc\Controller
{
    /**
     * @var string Название страницы
     */
    public $homepageTitle = "Домашняя страница";
    
    /**
     * @var string Пусть к файлу шаблона 
     */
    public $layoutPath = 'main.php';
      
    /**
     * Выводит на экран страницу "Домашняя страница"
     */
    public function indexAction()
    {
        $this->view->addVar('homepageTitle', $this->homepageTitle); // передаём переменную по view
        $this->view->render('homepage/index.php');
    }
}
```

-- у этого контроллера есть единственное действие `indexAction()`.

## Когда выполняется код контроллера

О том, когда код контроллера выполняется и как сделать, чтобы он выполнился, читайте [в разделе "Маршрутизация"](docs/Routing.md).


## Что ещё почитать по контроллерам

* Проектирование контроллеров (сколько, как много их нужно создавать): http://fkn.ktu10.com/?q=node/10717
